(window.webpackJsonp=window.webpackJsonp||[]).push([[121],{34:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var r=a(27),n=a.n(r),o=document.getElementById("i18n-translations");function i(e){return n.a.t(e)}o&&(n.a.translations=JSON.parse(o.dataset.translations)),n.a.defaultLocale="en",n.a.locale=document.body.dataset.locale},53:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return p}));var r=a(1),n=a.n(r),o=a(9),i=a(13);function c(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var u="up",d="down";function m(e,t,a){var r;function n(r){!function(e,t,a,r){var n,i,s,l=null===(n=document.activeElement)||void 0===n?void 0:n.closest(e);l||(s=function(e){var t=c(document.querySelectorAll(e)),a=t.find((function(e){return Object(o.a)({element:e})}));if(a)return a;var r=t.find((function(e){return Object(o.a)({element:e,allowPartialVisibility:!0})}));if(r)return r;return t[0]}(e));if(!s){s=(r===u?y:f)(l,e,a)}var d=null===(i=s)||void 0===i?void 0:i.querySelector(t);d&&(d.focus(),Object(o.a)({element:d,offsetTop:64})||window.scrollTo({top:s.offsetTop-64}))}(e,t,a,r)}Object(i.b)((l(r={},"KeyK",(function(){return n(u)})),l(r,"KeyJ",(function(){return n(d)})),r),window,{timeout:0})}function p(e){return m(e.itemSelector,e.focusableSelector,e.waterfallItemContainerSelector),null}function f(e,t,a){var r=null===e||void 0===e?void 0:e.nextElementSibling;return r&&!r.matches("".concat(t,",").concat(a))?r.nextElementSibling:r}function y(e,t,a){if(!e)return null;var r,n=e.previousElementSibling;!n&&a&&(n=null===(r=e.closest(a))||void 0===r?void 0:r.previousElementSibling);return n&&!n.matches(t)?n.previousElementSibling:n}p.propTypes={itemSelector:n.a.string.isRequired,focusableSelector:n.a.string.isRequired,waterfallItemContainerSelector:n.a.string}},66:function(e,t,a){"use strict";a.r(t),a.d(t,"renderFeed",(function(){return ee}));var r=a(0),n=a(1),o=a.n(n),i=a(24),c=a(6),s=function(e){var t=e.article;return Object(r.h)("a",{href:t.path,className:"crayons-story__cover",title:t.title,style:{backgroundImage:"url(".concat(t.main_image,")")}},Object(r.h)("span",{class:"hidden"},t.title))};s.propTypes={article:c.a.isRequired},s.displayName="ArticleCoverImage";var l=function(e){var t=e.article;return Object(r.h)("h3",{className:"crayons-story__title"},Object(r.h)("a",{href:t.path,id:"article-link-".concat(t.id)},"PodcastEpisode"===t.class_name&&Object(r.h)("span",{className:"crayons-story__flare-tag"},"podcast"),"User"===t.class_name&&Object(r.h)("span",{className:"crayons-story__flare-tag",style:{background:"#5874d9",color:"white"}},"person"),Object(r.h)("span",{dangerouslySetInnerHTML:{__html:filterXSS(t.title)}})))};l.propTypes={article:c.a.isRequired},l.displayName="ContentTitle";var u=a(25),d=a(34),m=function(e){var t=e.count,a=e.articlePath,n=e.articleTitle,o=function(){return Object(r.h)("svg",{className:"crayons-icon",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},Object(r.h)("path",{d:"M10.5 5h3a6 6 0 110 12v2.625c-3.75-1.5-9-3.75-9-8.625a6 6 0 016-6zM12 15.5h1.5a4.501 4.501 0 001.722-8.657A4.5 4.5 0 0013.5 6.5h-3A4.5 4.5 0 006 11c0 2.707 1.846 4.475 6 6.36V15.5z"}))},i="Comments for post ".concat(n," (").concat(t,")");return t>0?Object(r.h)(u.a,{variant:"ghost",size:"s",contentType:"icon-left",url:"".concat(a,"#comments"),icon:o,tagName:"a","aria-label":i},Object(r.h)("span",{title:"Number of comments"},t,Object(r.h)("span",{className:"hidden s:inline"},"\xa0","".concat(t>1?"".concat(Object(d.a)("core.comment"),"s"):Object(d.a)("core.comment"))))):0===t?Object(r.h)(u.a,{variant:"ghost",size:"s",contentType:"icon-left",url:"".concat(a,"#comments"),icon:o,tagName:"a","data-testid":"add-a-comment","aria-label":i},Object(r.h)("span",{className:"inline s:hidden"},"0"),Object(r.h)("span",{className:"hidden s:inline"},Object(d.a)("core.add_comment"))):null};m.defaultProps={count:0},m.propTypes={count:o.a.number,articlePath:o.a.string.isRequired,articleTitle:o.a.string.isRequired},m.displayName="CommentsCount";var p=function(e){var t,a=e.comment;return Object(r.h)("div",{className:"crayons-comment cursor-pointer",role:"presentation",onClick:function(e){if(e.which>1||e.metaKey||e.ctrlKey)window.open(a.path,"_blank");else{var t=window.location.origin+a.path;InstantClick.preload(t),InstantClick.display(t)}}},Object(r.h)("div",{className:"crayons-comment__meta"},Object(r.h)("a",{href:(t=a.username,"/".concat(t)),className:"crayons-story__secondary fw-medium"},Object(r.h)("span",{className:"crayons-avatar mr-2"},Object(r.h)("img",{src:a.profile_image_90,className:"crayons-avatar__image",alt:"{comment.username} avatar"})),a.name),Object(r.h)("a",{href:a.path,className:"crayons-story__tertiary ml-1"},Object(r.h)("time",null,timeAgo({oldTimeInSeconds:a.published_at_int,formatter:function(e){return e},maxDisplayedAge:NaN})))),Object(r.h)("div",{className:"crayons-comment__body",dangerouslySetInnerHTML:{__html:a.safe_processed_html}}))};p.displayName="CommentsListItem",p.propTypes={comment:o.a.shape({name:o.a.string.isRequired,profile_image_90:o.a.string.isRequired,published_at_int:o.a.number.isRequired,safe_processed_html:o.a.string.isRequired,path:o.a.string.isRequired,username:o.a.string.isRequired}).isRequired};var f=a(3);function y(e){return"".concat(e,"#comments-container")}var h=function(e){var t=e.comments,a=void 0===t?[]:t,n=e.articlePath,o=e.totalCount;return a&&a.length>0?Object(r.h)("div",{className:"crayons-story__comments"},a.slice(0,2).map((function(e){return Object(r.h)(p,{key:e.id,comment:e})})),function(e,t,a){var n="";return a>2&&(n=Object(r.h)("div",{className:"crayons-story__comments__actions"},Object(r.h)(f.a,{variant:"ghost",size:"s",tagName:"a",className:"-ml-2",url:y(t),"data-testid":"see-all-comments"},"See all ",a," comments"))),n}(0,n,o)):""};h.displayName="CommentsList",Comment.propTypes=o.a.shape({name:o.a.string.isRequired,profile_image_90:o.a.string.isRequired,published_at_int:o.a.number.isRequired}),h.propTypes={comments:o.a.arrayOf(Comment.propTypes).isRequired,articlePath:o.a.string.isRequired,totalCount:o.a.number.isRequired};var b=function(e){var t=e.triggerId,a=e.contentId,n=e.username,o=e.name,i=e.profileImage,c=e.userId;return Object(r.h)("div",{class:"profile-preview-card relative mb-4 s:mb-0 fw-medium hidden m:inline-block"},Object(r.h)("button",{id:t,"aria-controls":a,class:"profile-preview-card__trigger fs-s p-1 crayons-btn crayons-btn--ghost -ml-1 -my-2","aria-label":"".concat(o," profile details")},o),Object(r.h)("div",{id:a,class:"profile-preview-card__content crayons-dropdown p-4 pt-0 branded-7",style:"border-top-color: var(--card-color);","data-repositioning-dropdown":"true","data-testid":"profile-preview-card"},Object(r.h)("div",{class:"gap-4 grid"},Object(r.h)("div",{class:"-mt-4"},Object(r.h)("a",{href:"/".concat(n),class:"flex"},Object(r.h)("span",{class:"crayons-avatar crayons-avatar--xl mr-2 shrink-0"},Object(r.h)("img",{src:i,class:"crayons-avatar__image",alt:"",loading:"lazy"})),Object(r.h)("span",{class:"crayons-link crayons-subtitle-2 mt-5"},o))),Object(r.h)("div",{class:"print-hidden"},Object(r.h)(f.c,{variant:"primary",className:"follow-action-button follow-user w-100","data-info":JSON.stringify({id:c,className:"User",name:o,style:"full"})},"Follow")),Object(r.h)("div",{class:"author-preview-metadata-container","data-author-id":c}))))},v=function(e){var t=e.readablePublishDate,a=e.publishedTimestamp,n=e.publishedAtInt,o=timeAgo({oldTimeInSeconds:n,formatter:function(e){return e},maxDisplayedAge:604800});return Object(r.h)("time",{dateTime:a},t,o?" (".concat(o,")"):"")};v.defaultProps={publishedTimestamp:null,publishedAtInt:null},v.propTypes={readablePublishDate:o.a.string.isRequired,publishedTimestamp:o.a.string,publishedAtInt:o.a.number},v.displayName="PublishDate";var g=function(e){var t=e.article,a=e.organization,n=!document.getElementById("organization-article-index");return Object(r.h)("div",{className:"crayons-story__meta"},Object(r.h)("div",{className:"crayons-story__author-pic"},a&&n&&Object(r.h)("a",{href:"/".concat(a.slug),className:"crayons-logo crayons-logo--l"},Object(r.h)("img",{alt:"".concat(a.name," logo"),src:a.profile_image_90,className:"crayons-logo__image",loading:"lazy"})),Object(r.h)("a",{href:"/".concat(t.user.username),className:"crayons-avatar ".concat(a&&n?"crayons-avatar--s absolute -right-2 -bottom-2 border-solid border-2 border-base-inverted":"crayons-avatar--l")},Object(r.h)("img",{src:t.user.profile_image_90,alt:"".concat(t.user.username," profile"),className:"crayons-avatar__image",loading:"lazy"}))),Object(r.h)("div",null,Object(r.h)("div",null,Object(r.h)("a",{href:"/".concat(t.user.username),className:"crayons-story__secondary fw-medium m:hidden"},filterXSS("User"===t.class_name?t.user.username:t.user.name)),Object(r.h)(b,{triggerId:"story-author-preview-trigger-".concat(t.id),contentId:"story-author-preview-content-".concat(t.id),username:t.user.username,name:t.user.name,profileImage:t.user.profile_image_90,userId:t.user_id}),a&&!document.getElementById("organization-article-index")&&Object(r.h)("span",null,Object(r.h)("span",{className:"crayons-story__tertiary fw-normal"}," for "),Object(r.h)("a",{href:"/".concat(a.slug),className:"crayons-story__secondary fw-medium"},a.name))),Object(r.h)("a",{href:t.path,className:"crayons-story__tertiary fs-xs"},Object(r.h)(v,{readablePublishDate:t.readable_publish_date,publishedTimestamp:t.published_timestamp,publishedAtInt:t.published_at_int}))))};g.defaultProps={organization:null},g.propTypes={article:c.a.isRequired,organization:o.a.shape({name:o.a.string.isRequired,profile_image_90:o.a.string.isRequired,slug:o.a.string.isRequired})},g.displayName="Meta";var _=function(e){var t=e.article,a=t.public_reactions_count||0;if(0!==a)return Object(r.h)(u.a,{variant:"ghost",size:"s",contentType:"icon-left",url:t.path,icon:function(){return Object(r.h)("svg",{className:"crayons-icon",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},Object(r.h)("path",{d:"M18.884 12.595l.01.011L12 19.5l-6.894-6.894.01-.01A4.875 4.875 0 0112 5.73a4.875 4.875 0 016.884 6.865zM6.431 7.037a3.375 3.375 0 000 4.773L12 17.38l5.569-5.569a3.375 3.375 0 10-4.773-4.773L9.613 10.22l-1.06-1.062 2.371-2.372a3.375 3.375 0 00-4.492.25v.001z"}))},tagName:"a"},Object(r.h)("span",{title:"Number of reactions"},a,Object(r.h)("span",{className:"hidden s:inline"},"\xa0","".concat(1==a?Object(d.a)("core.reaction"):"".concat(Object(d.a)("core.reaction"),"s")))))};_.propTypes={article:c.a.isRequired},_.displayName="ReactionsCount";var j=function(e){var t=e.readingTime;return Object(r.h)("small",{className:"crayons-story__tertiary mr-2"},"".concat(t<1?1:t," min read"))};function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function w(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},N(e,t)}function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=T(e);if(t){var n=T(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return S(this,a)}}function S(e,t){if(t&&("object"===O(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}j.defaultProps={readingTime:null},j.propTypes={readingTime:o.a.number},j.displayName="ReadingTime";var I=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}(i,e);var t,a,n,o=k(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,e);var a=e.isBookmarked;return t.state={buttonText:a?"Saved":"Save"},t}return t=i,(a=[{key:"render",value:function(){var e=this,t=this.state.buttonText,a=this.props,n=a.article,o=a.isBookmarked,i=a.onClick,c=function(t){e.setState({buttonText:o?"Unsave":"Save"})},s=function(t){e.setState({buttonText:o?"Saved":"Save"})};return"Article"===n.class_name?Object(r.h)("button",{type:"button",id:"article-save-button-".concat(n.id),className:"crayons-btn crayons-btn--s ".concat(o?"crayons-btn--ghost":"crayons-btn--secondary"),"data-initial-feed":!0,"data-reactable-id":n.id,onClick:function(t){i(t),e.setState({buttonText:o?"Save":"Saved",isBookmarked:!o})},onMouseMove:c,onFocus:c,onMouseout:s,onBlur:s},t):"User"===n.class_name?Object(r.h)("button",{type:"button",className:"crayons-btn crayons-btn--secondary fs-s","data-info":'{"id":'.concat(n.id,',"className":"User"}'),"data-follow-action-button":!0},"\xa0"):null}}])&&w(t.prototype,a),n&&w(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);I.propTypes={article:c.a.isRequired,isBookmarked:o.a.bool.isRequired,onClick:o.a.func.isRequired},I.displayName="SaveButton";var A=function(e){var t=e.highlightText;if(t&&t.body_text.length>0){var a=t.body_text,n="";if(a[0]){var o=a[0],i="";o.toLowerCase()!==o.toUpperCase()&&(i="\u2026"),n="".concat(i+a.join("..."),"\u2026")}if(n.length>0)return Object(r.h)("div",{className:"crayons-story__snippet"},Object(r.h)("span",null,n))}return null};A.propTypes={highlightText:c.b},A.displayName="SearchSnippet";var R=function(e){var t=e.tags,a=void 0===t?[]:t,n=e.flare_tag,o=a;return n&&(o=o.filter((function(e){return e!==n.name}))),Object(r.h)("div",{className:"crayons-story__tags"},n&&Object(r.h)("a",{className:"crayons-tag crayons-tag--filled",href:"/t/".concat(n.name),style:{"--tag-bg":"".concat(n.bg_color_hex,"1a"),"--tag-prefix":n.bg_color_hex,"--tag-bg-hover":"".concat(n.bg_color_hex,"1a"),"--tag-prefix-hover":n.bg_color_hex}},Object(r.h)("span",{className:"crayons-tag__prefix"},"#"),n.name),o.map((function(e){return Object(r.h)("a",{key:"tag-".concat(e),className:"crayons-tag",href:"/t/".concat(e)},Object(r.h)("span",{className:"crayons-tag__prefix"},"#"),e)})))};R.propTypes={tags:o.a.arrayOf(o.a.string).isRequired},R.displayName="TagList";var C=function(e){var t=e.article;return Object(r.h)("a",{href:t.path,className:"crayons-story__video",style:"background-image:url(".concat(t.cloudinary_video_url,")")},Object(r.h)("span",{title:"Video duration",className:"crayons-story__video__time"},t.video_duration_in_minutes))};C.propTypes={article:c.a.isRequired},C.displayName="Video";var x=function(e){var t=e.article;return Object(r.h)("div",{className:"single-article single-article-small-pic single-article-single-podcast"},Object(r.h)("div",{className:"small-pic"},Object(r.h)("a",{href:"/".concat(t.podcast.slug),className:"small-pic-link-wrapper"},Object(r.h)("img",{src:t.podcast.image_url,alt:t.podcast.title}))),Object(r.h)("a",{href:t.path,className:"small-pic-link-wrapper index-article-link",id:"article-link-".concat(t.id)},Object(r.h)("div",{className:"content"},Object(r.h)("h3",null,Object(r.h)("span",{className:"tag-identifier"},"podcast"),t.title))),Object(r.h)("h4",null,Object(r.h)("a",{href:"/".concat(t.podcast.slug)},t.podcast.title)))};function q(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return P(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}x.propTypes={article:i.a.isRequired};var E=function(e){var t=e.article,a=e.isFeatured,n=e.isBookmarked,o=e.bookmarkClick,i=e.feedStyle;if(t&&"podcast_episodes"===t.type_of)return Object(r.h)(x,{article:t});var c=["crayons-story","crayons-story__top","crayons-story__body","crayons-story__indention","crayons-story__title","crayons-story__tags","crayons-story__bottom","crayons-story__tertiary"],u=(a||"rich"===i&&t.main_image)&&!t.cloudinary_video_url;return u=u||t.pinned&&t.main_image,Object(r.h)("article",{className:"crayons-story cursor-pointer".concat(a?" crayons-story--featured":""),id:a?"featured-story-marker":"article-".concat(t.id),"data-content-user-id":t.user_id},Object(r.h)("a",{href:t.path,"aria-labelledby":"article-link-".concat(t.id),className:"crayons-story__hidden-navigation-link"},t.title),Object(r.h)("div",{role:"presentation",onClick:function(e){var a=e.target.classList;if(c.includes.apply(c,q(a)))if(e.which>1||e.metaKey||e.ctrlKey)window.open(t.path,"_blank");else{var r=window.location.origin+t.path;InstantClick.preload(r),InstantClick.display(r)}}},t.cloudinary_video_url&&Object(r.h)(C,{article:t}),u&&Object(r.h)(s,{article:t}),Object(r.h)("div",{className:"crayons-story__body"},Object(r.h)("div",{className:"crayons-story__top"},Object(r.h)(g,{article:t,organization:t.organization}),t.pinned&&Object(r.h)("div",{className:"pinned color-accent-brand fw-bold","data-testid":"pinned-article"},Object(r.h)("svg",{"aria-hidden":"true",className:"mr-2 align-text-bottom color-accent-brand",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},Object(r.h)("path",{d:"M22.314 10.172l-1.415 1.414-.707-.707-4.242 4.242-.707 3.536-1.415 1.414-4.242-4.243-4.95 4.95-1.414-1.414 4.95-4.95-4.243-4.242 1.414-1.415L8.88 8.05l4.242-4.242-.707-.707 1.414-1.415z"})),"Pinned",Object(r.h)("span",{class:"hidden s:inline"},"\xa0post"))),Object(r.h)("div",{className:"crayons-story__indention"},Object(r.h)(l,{article:t}),Object(r.h)(R,{tags:t.tag_list,flare_tag:t.flare_tag}),"Article"===t.class_name&&Object(r.h)(A,{highlightText:t.highlight}),Object(r.h)("div",{className:"crayons-story__bottom"},"User"!==t.class_name&&Object(r.h)("div",{className:"crayons-story__details"},Object(r.h)(_,{article:t}),Object(r.h)(m,{count:t.comments_count,articlePath:t.path,articleTitle:t.title})),Object(r.h)("div",{className:"crayons-story__save"},Object(r.h)(j,{readingTime:t.reading_time}),Object(r.h)(I,{article:t,isBookmarked:n,onClick:o}))))),t.top_comments&&t.top_comments.length>0&&Object(r.h)(h,{comments:t.top_comments,articlePath:t.path,totalCount:t.comments_count})))};E.defaultProps={isBookmarked:!1,isFeatured:!1,feedStyle:"basic"},E.propTypes={article:i.a.isRequired,isBookmarked:o.a.bool,isFeatured:o.a.bool,feedStyle:o.a.string,bookmarkClick:o.a.func.isRequired};var B=function(e){var t="featured"===e.version&&Object(r.h)("div",{className:"crayons-story__cover"},Object(r.h)("div",{className:"crayons-scaffold crayons-story__cover__image",loading:"lazy"}));return Object(r.h)("div",{className:"crayons-story",title:"Loading posts..."},t,Object(r.h)("div",{className:"crayons-story__body"},Object(r.h)("div",{className:"crayons-story__top mb-3"},Object(r.h)("div",{className:"crayons-story__meta w-100"},Object(r.h)("div",{className:"crayons-scaffold-loading mr-2 w-0 h-0 p-4 radius-full"}),Object(r.h)("div",{className:"crayons-scaffold-loading w-25 h-0 py-2"}))),Object(r.h)("div",{className:"crayons-story__indention"},Object(r.h)("div",{className:"crayons-scaffold-loading w-75 h-0 py-3 mb-2"}),Object(r.h)("div",{className:"crayons-scaffold-loading w-50 h-0 py-2 mb-8"}))))};B.propTypes={version:o.a.string};var z=a(2),F=a(53),M=a(13);function L(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||K(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t,a,r,n,o,i){try{var c=e[o](i),s=c.value}catch(l){return void a(l)}c.done?t(s):Promise.resolve(s).then(r,n)}function D(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var o=e.apply(t,a);function i(e){U(o,r,n,i,c,"next",e)}function c(e){U(o,r,n,i,c,"throw",e)}i(void 0)}))}}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var r,n,o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(s){c=!0,n=s}finally{try{i||null==a.return||a.return()}finally{if(c)throw n}}return o}(e,t)||K(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){if(e){if("string"===typeof e)return V(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?V(e,t):void 0}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var $=function(e){var t=e.timeFrame,a=e.renderFeed,n=userData().reading_list_ids,o=void 0===n?[]:n,i=J(Object(z.j)(new Set(o)),2),c=i[0],s=i[1],l=J(Object(z.j)(null),2),u=l[0],d=l[1],m=J(Object(z.j)([]),2),p=m[0],f=m[1],y=J(Object(z.j)([]),2),h=y[0],b=y[1],v=J(Object(z.j)(!1),2),g=v[0],_=v[1];function j(){return j=D((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=yield fetch("/stories/feed/".concat(e,"?page=").concat(t),{method:"GET",headers:{Accept:"application/json","X-CSRF-Token":window.csrfToken,"Content-Type":"application/json"},credentials:"same-origin"});return yield a.json()})),j.apply(this,arguments)}function O(){return(O=D((function*(e){var t=document.body.userStatus;if(e.preventDefault(),sendHapticMessage("medium"),"logged-out"!==t){var a=e.currentTarget,r=buttonFormData(a),n=yield getCsrfToken();if(n){var o=sendFetch("reaction-creation",r),i=yield o(n);if(200===i.status){var l=yield i.json(),u=Number(a.dataset.reactableId),d=l.result,m=new Set(L(c.values()));"create"===d&&m.add(u),"destroy"===d&&m.delete(u),renderNewSidebarCount(a,l),s(m)}}}else showLoginModal()}))).apply(this,arguments)}return Object(z.d)((function(){b(function(){var e=document.getElementById("followed-podcasts"),t=userData(),a=[];if(t&&t.followed_podcast_ids&&t.followed_podcast_ids.length>0){JSON.parse(e.dataset.episodes).forEach((function(e){t.followed_podcast_ids.indexOf(e.podcast.id)>-1&&a.push(e)}))}return a}())}),[]),Object(z.d)((function(){var e=function(){var e=D((function*(){try{g&&_(!1);var e=yield function(){return j.apply(this,arguments)}(t),a=e.find((function(e){return!0===e.pinned})),r=e.find((function(e){return null!==e.main_image}));if(a){var n=e.findIndex((function(e){return e.id===a.id}));e.splice(n,1),a.id!==(null===r||void 0===r?void 0:r.id)&&d(a)}var o=e.indexOf(r),i=r?1:0;e.splice(o,i);var c=[r,e].flat();f(c)}catch(s){g||_(!0)}}));return function(){return e.apply(this,arguments)}}();e()}),[t,g]),Object(F.b)("article.crayons-story","a.crayons-story__hidden-navigation-link","div.paged-stories"),Object(M.b)({b:function(e){var t,a,r=null===(t=e.target)||void 0===t?void 0:t.closest("article.crayons-story");r&&(null===(a=r.querySelector("button[id^=article-save-button]"))||void 0===a||a.click())}}),Object(r.h)("div",{id:"rendered-article-feed"},g?Object(r.h)("div",{class:"crayons-notice crayons-notice--danger"},"There was a problem fetching your feed."):a({pinnedArticle:u,feedItems:p,podcastEpisodes:h,bookmarkedFeedItems:c,bookmarkClick:function(e){return O.apply(this,arguments)}}))};$.defaultProps={timeFrame:""},$.propTypes={timeFrame:o.a.string,renderFeed:o.a.func.isRequired},$.displayName="Feed";var H=function(e){var t=e.episode;return Object(r.h)("div",{"data-testid":"podcast-episode",className:"crayons-podcast-episode"},Object(r.h)("a",{href:"/".concat(t.podcast.slug,"/").concat(t.slug),className:"crayons-podcast-episode__cover"},Object(r.h)("img",{src:t.podcast.image_90,alt:t.title})),Object(r.h)("div",null,Object(r.h)("p",{className:"crayons-podcast-episode__author"},t.podcast.title),Object(r.h)("h2",{className:"crayons-podcast-episode__title crayons-story__title mb-0"},Object(r.h)("a",{href:"/".concat(t.podcast.slug,"/").concat(t.slug)},t.title))))};H.propTypes={episode:c.a.isRequired},H.displayName="PodcastEpisode";var X=function(e){var t=e.children;return Object(r.h)("div",{className:"crayons-story"},Object(r.h)("div",{className:"crayons-story__body"},Object(r.h)("h3",{className:"crayons-story__headline"},Object(r.h)("a",{href:"/pod"},"Today's Podcasts")),t))};function G(){return G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},G.apply(this,arguments)}function Q(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return W(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return W(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}X.propTypes={children:c.c.isRequired},X.displayName="TodaysPodcasts";var Y=function(){return Object(r.h)("div",null,Object(r.h)(B,{version:"featured"}),Object(r.h)(B,null),Object(r.h)(B,null),Object(r.h)(B,null),Object(r.h)(B,null),Object(r.h)(B,null),Object(r.h)(B,null))},Z=function(e){var t=e.episodes;return Object(r.h)(X,null,t.map((function(e){return Object(r.h)(H,{episode:e,key:e.podcast.id})})))};Z.defaultProps={episodes:[]},Z.propTypes={episodes:o.a.arrayOf(c.a)};var ee=function(e){var t=document.getElementById("homepage-feed");Object(r.render)(Object(r.h)($,{timeFrame:e,renderFeed:function(t){var a=t.pinnedArticle,n=t.feedItems,o=t.podcastEpisodes,i=t.bookmarkedFeedItems,c=t.bookmarkClick;if(0===n.length)return Object(r.h)(Y,null);var s,l={bookmarkClick:c},u=JSON.parse(document.body.dataset.user).feed_style,d=Q(n),m=d[0],p=d.slice(1);return m&&(s=m.id,function e(){window.ga&&ga.create?ga("send","event","view","featured-feed-impression","articles-".concat(s),null):setTimeout(e,20)}()),Object(r.h)("div",null,""===e&&a&&Object(r.h)(E,G({},l,{article:a,feedStyle:u,isBookmarked:i.has(a.id)})),m&&Object(r.h)(E,G({},l,{article:m,isFeatured:!0,feedStyle:u,isBookmarked:i.has(m.id)})),o.length>0&&Object(r.h)(Z,{episodes:o}),(p||[]).map((function(e){return Object(r.h)(E,G({},l,{key:e.id,article:e,feedStyle:u,isBookmarked:i.has(e.id)}))})))}}),t,t.firstElementChild)}}}]);
//# sourceMappingURL=121-9bf959d60e0a23837b51.chunk.js.map